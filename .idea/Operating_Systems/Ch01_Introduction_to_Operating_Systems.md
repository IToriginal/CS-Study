# 운영체제란 무엇인가?

> 컴퓨터 하드웨어 윗단에 설치되는 일종의 소프트웨어로 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층

![img.png](img.png)
### 협의의 운영체제(커널)

먼저, 좁은 의미에서 운영체제는 “커널” 이라고 부르며, 운영체제의 핵심부분으로 메모리에 상주하는 부분을 말한다. 흔히 전공자들 사이에서 말하는 운영체제의 범위이다.

### 광의의 운영체제

그리고 넓은 의미에서 운영체제를 부르기도 하는데 커널뿐만 아니라, 시스템을 위한 유틸리티(파일 복사 프로그램) 등을 뜻한다.

예를 들어서, 윈도우 OS를 설치하게 되면 윈도우라는 “커널”만 설치되는 것이 아니라 부가적인 것이 같이 설치되는 것을 볼 수 있는데 이러한 범위로 운영체제라고 부르기도 한다.

---

## 운영체제의 목적은 무엇인가?

### 1. 컴퓨터 시스템의 자원을 효율적으로 관리하는 것 (가장 중요한 역할)

운영체제에서 자원이라 함은 CPU, 메모리, 각종 입출력 장치를 말한다. 흔히 리소스라고 한다.

자원을 관리하는 필요한 요소로 효율성과 형평성이 있다.

- 효율성: 컴퓨터 하드웨어에 주어진 자원으로 최대한 성능을 내도록 하는 것
- 형평성: 특정 사용자나 프로그램이 차별받는 상황이 생길 수도 있는데 그러한 상황에서 형평성있는 자원 분배를 하도록 한다.

운영체제는 CPU, 메모리 등과 같이 하드웨어의 자원 뿐만 아니라, 프로세스, 파일, 메시지 등의 소프트웨어 자원 또한 관리를 한다.

### 2. 컴퓨터 시스템을 편리하게 사용할 수 있는 환경을 사용자에게 제공하는 것

하나의 컴퓨터의 프로그램을 동시에 실행.

---

## 운영체제의 분류
### 1. 동시 작업 가능 여부

- 단일 작업 (Single tasking): 한 번에 하나의 작업만 처리

  MS-DOS 프롬프트 상에서는 한 명령의 수행을 끝내기 전에 다른 명령을 수행시킬수 없음

- 다중 작업 (multi tasking): 동시에 두 개 이상의 작업 처리

  UNIX, MS Windows 등에서는 한 명령의 수행이 끝나기 전에 다른 명령이나 프로그램을 수행할 수 있음


### 2. 사용자의 수(동시 접근)

여러 사용자의 계정을 만들어서 접근이 가능한가

- 단일 사용자(Single user): MS-DOS, MS Windows
- 다중 사용자(multi user): UNIX, NT Server

### 3. 처리 방식

- 일괄 처리 (batch processsing)

  작업 요청의 일정량을 모아서 한꺼번에 처리하는 방식

  작업이 완전 종료가 될 때까지
- 시분할(time sharing)

    여러 작업을 수행할 때 컴퓨터 처리 능력을 일정한 시간 단위로 분할하여 사용

    일괄 처리 시스템에 비해 짧은 응답 시간을 가진다.

    사용자가 컴퓨터로부터 서비스를 제공 받는 시간을 숫자로 표시(키보드를 치면 바로 응답이 오는 기분)
    ![img_1.png](img_1.png)
- 실시간 (Realtime OS)

  정해진 시간 안에 어떠한 일이 반드시 종료됨이 보장되어야하는 실시간 시스템을 위한 OS
  EX: 원자로/공장 제어, 미사일 제어, 반도체 장치, 로보트 제어

    - Hard realtime system (미사일, 반도체)
    - Soft realtime system (EX: 영화 24 프레임)

---

## 관련 용어

- Multitasking - 여러 프로그램이 함께 돌아가는 것
- Multiprogamming - 여러 프로그램이 **메모리**에 올라가는 있음을 강조.
- Time sharing - **cpu**가 시간을 분할하여 나누어 쓴다는 의미를 강조.
- Multiprocess - 여러 프로그램이 동시 실행. 같은 말.
- Multiprocessor - 하나의 컴퓨터에 CPU(processor)가 여러 개 붙어 있음을 의미. 위 내용을 다 지원함 물론. 병렬 프로그래밍이 가능한 고성능 컴퓨팅이라고 한다. 이 수업에서는 cpu 하나를 기준으로 설명하실 예정.

---

## 운영체제의 예

- 유닉스 - 대형 컴퓨터 위해 만듦
    - C언어 만들어서 코드의 대부분을 작성. (전에는 어셈블리로 만들었다고 함.) 고급 언어이나 기계와도 가까운, 하드웨어도 잘 다루는 C언어
    - 소스 코드 공개
    - 높은 이식성 → 다른 컴퓨터에 가도 잘 실행됨. C언어로 작성되었으므로.
    - 최소한의 커널 구조
    - 복잡한 시스템에 맞게 확장성 높음.
    - 프로그램 개발에 용이
    - 여러 버전 → SYSTEM V, FreeBSD, SunOS, Solaris, Linux(대형 보다는 여러 환경에서 활용 가능. 안드로이드도 커널은 리눅스 커널임.) 등
- MS - 개인 컴퓨터 위주,
    - DOS → 처음에는 단일 사용자, 단일 작업 지원. 메모리 640KB 지원의 한계.
    - MS Windows다중 작업용 gui 기반 운영 체제

---

## 운영체제의 구조

![img_2.png](img_2.png)

- CPU, cpu 스케줄링 ⇒ 누구에게 cpu를 줄 것인가?
    - 굉장히 빠름. 순서대로 작업 실행x
    - 순서대로 한다면 굉장히 비효율적. 하나의 프로그램이 계속 cpu 사용 x.
    - cpu를 짧게 사용할 프로세스에 먼저 주는 게 낫다. 전체적으로 기다리는 시간이 적어짐.( 안주면 계속 여러 대의 프로그램이 대기하므로 전체적인 성능이 안 좋아짐. 대기하는 프로그램들이 적어져야 함.)

- memory, 메모리 관리 ⇒ 한정된 메모리를 어떻게 쪼개어 쓰지? 메모리 분배 이슈
    - cpu에서 원활하게 실행되려면 필요한 메모리 용량이 있음. 그래서 그 만큼은 받아두어야.. 워킹셋 모델 관련됨. 일부 프로그램만 어느 정도 공간을 주고, 나머지는 안 둠. 경우에 따라서는 diskio를 해야 할 수도. 무조건 1/n이 아니라, 그 때 그 때 필요한 프로세스에 몰아줌.
    - 그러면 어떤 걸 쫓아내야 하는가? cpu에서 머지 않아 다시 사용할 가능성이 높은 것을 메모리에 두고, 그렇지 않은 것을 쫓아낸다. 기준은? 어떠한 데이터가 메모리에 올라온 이후로 메모리가 사용이 많이 되었으면 미래에도 많이 사용될 가능성이 높을 것으로 판단한다. 사용 횟수 적으면 쫓아낸다. 과거를 통해서 미래를 예측한다.

- DISK, 파일 관리 ⇒ 디스크에 파일을 어떻게 보관하지?
    - 조각조각 나누어 관리? 연속적으로 관리?
    - 스케줄링이 필요하다. disk에 들어온 요청을 먼저 들어온 순서대로? no. 헤드가 움직이며 찾으므로 헤드와 가까우면 먼저 처리하는 식으로 해서 이동을 줄이는 방법으로 처리하게 된다.(HDD 기준) ex) 엘리베이터 시스템과 유사함.

- I/O device ⇒ 각기 다른 입출력 장치와 컴퓨터 간에 어떻게 정보를 주고 받게 하지?
    - 기본적으로 interrupt에 의해 관리됨.
    - cpu에 보고해야 하는 일 있으면 cpu에 interrupt를 걸어 요청함.